<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafío de Lógica Automotriz</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Exo+2:wght@700&display=swap" rel="stylesheet">

    <!-- Estilos Personalizados -->
    <style>
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --card-bg-color: rgba(255, 255, 255, 0.1);
            --text-color: #f0f0f0;
            --button-color-1: #ff416c;
            --button-color-2: #ff4b2b;
        }

        body {
            font-family: 'Roboto', sans-serif;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), #3a1c71, #d76d77, #ffaf7b);
            background-size: 600% 600%;
            animation: gradientAnimation 20s ease infinite;
            overflow-x: hidden;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-header {
            text-align: center;
            padding: 4rem 1rem;
            animation: fadeInDown 1s ease-in-out;
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .main-header h1 {
            font-family: 'Exo 2', sans-serif;
            font-size: 3.5rem;
            font-weight: 700;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
        }

        .main-header img {
            max-width: 500px;
            width: 90%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            margin: 2rem 0;
            border: 3px solid rgba(255, 255, 255, 0.5);
        }

        .main-header p {
            max-width: 700px;
            margin: 1rem auto;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .card-container {
            position: relative;
            padding: 2rem 0;
        }

        .challenge-card {
            background: var(--card-bg-color);
            border: none;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .challenge-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
        }

        .challenge-card .card-body {
            position: relative;
            z-index: 2;
        }

        /* Animación de Olas */
        .wave-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            z-index: 0;
        }

        .wave {
            position: absolute;
            bottom: -30px;
            left: 0;
            width: 100%;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 88.7"><path d="M800 56.9c-155.5 0-204.9-50-405.5-49.9-200 0-250 49.9-394.5 49.9v31.8h800v-.2-31.6z" fill-opacity="0.1" fill="%23FFFFFF"/></svg>') repeat-x;
            background-size: 1600px 100px;
            animation: wave-animation 10s linear infinite;
        }

        .wave.wave2 {
            animation-delay: -2s;
            animation-duration: 8s;
            opacity: 0.5;
        }
        
        .wave.wave3 {
            animation-delay: -4s;
            animation-duration: 6s;
            opacity: 0.3;
        }

        @keyframes wave-animation {
            0% { background-position-x: 0; }
            100% { background-position-x: -1600px; }
        }

        .card-title {
            font-family: 'Exo 2', sans-serif;
            font-weight: 700;
        }

        .card-icon {
            font-size: 3rem;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
        }

        .wave-btn {
            background: linear-gradient(45deg, var(--button-color-1), var(--button-color-2));
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            z-index: 1;
        }

        .wave-btn:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 45%;
            transform: translate(-50%, -50%) scale(0);
            animation: wave-click 15s linear infinite;
            z-index: -1;
        }
        
        .wave-btn:hover {
            box-shadow: 0 5px 15px rgba(255, 65, 108, 0.5);
            transform: translateY(-3px);
        }

        @keyframes wave-click {
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0;
            }
        }

        .page-footer {
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
            background-color: rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
        }
        
        /* Estilos para el Modal */
        .modal-content {
            background: #2c3e50;
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
        }
        
        .modal-header {
            border-bottom: 1px solid var(--primary-color);
        }
        
        .modal-title {
            font-family: 'Exo 2', sans-serif;
        }

        .modal code {
            background-color: #1e2b38;
            color: #82aaff;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
        }
        
        .modal pre {
            background-color: #1e2b38;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #455a64;
            max-height: 250px;
            overflow-y: auto;
        }

        #result, #fibonacciResult, #imcResult, #palindromeResult {
            margin-top: 1rem;
            padding: 1rem;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            min-height: 50px;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .form-control {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .form-control:focus {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            box-shadow: 0 0 0 0.25rem rgba(37, 117, 252, 0.5);
            border-color: var(--secondary-color);
        }

        .form-control::placeholder {
            color: rgba(255,255,255,0.5);
        }
    </style>
</head>
<body>

    <!-- Encabezado -->
    <header class="main-header">
        <div class="container">
            <h1>🚗 Bienvenido al Desafío de Lógica con Estilo Automotriz</h1>
            <img src="https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Auto deportivo moderno">
            <p>"Explora 4 desafíos de lógica de programación diseñados para estimular tu mente y mejorar tus habilidades técnicas. ¡Prepárate para pensar como un verdadero desarrollador!"</p>
        </div>
    </header>

    <!-- Sección de Cards -->
    <main class="container card-container">
        <div class="row gy-4">
            
            <!-- Card 1: Números Primos -->
            <div class="col-lg-3 col-md-6">
                <div class="challenge-card h-100">
                    <div class="card-body d-flex flex-column text-center">
                        <div class="card-icon mb-3">🧮</div>
                        <h4 class="card-title">Números Primos</h4>
                        <p class="card-text flex-grow-1">Muestra todos los números primos entre dos valores que el usuario digite.</p>
                        <button class="btn wave-btn mt-auto" data-bs-toggle="modal" data-bs-target="#primeModal">🔍 Ver solución</button>
                    </div>
                    <div class="wave-bg">
                       <div class="wave"></div>
                       <div class="wave wave2"></div>
                       <div class="wave wave3"></div>
                    </div>
                </div>
            </div>

            <!-- Card 2: Serie Fibonacci -->
            <div class="col-lg-3 col-md-6">
                <div class="challenge-card h-100">
                    <div class="card-body d-flex flex-column text-center">
                        <div class="card-icon mb-3">🧠</div>
                        <h4 class="card-title">Serie Fibonacci</h4>
                        <p class="card-text flex-grow-1">Muestra la serie Fibonacci hasta el número de términos que el usuario indique.</p>
                        <button class="btn wave-btn mt-auto" data-bs-toggle="modal" data-bs-target="#fibonacciModal">🔍 Ver solución</button>
                    </div>
                    <div class="wave-bg">
                       <div class="wave"></div>
                       <div class="wave wave2"></div>
                       <div class="wave wave3"></div>
                    </div>
                </div>
            </div>

            <!-- Card 3: Cálculo de IMC -->
            <div class="col-lg-3 col-md-6">
                <div class="challenge-card h-100">
                    <div class="card-body d-flex flex-column text-center">
                        <div class="card-icon mb-3">⚙️</div>
                        <h4 class="card-title">Cálculo de IMC</h4>
                        <p class="card-text flex-grow-1">Calcula el Índice de Masa Corporal usando altura (metros) y peso (libras).</p>
                        <button class="btn wave-btn mt-auto" data-bs-toggle="modal" data-bs-target="#imcModal">🔍 Ver solución</button>
                    </div>
                    <div class="wave-bg">
                       <div class="wave"></div>
                       <div class="wave wave2"></div>
                       <div class="wave wave3"></div>
                    </div>
                </div>
            </div>
            
            <!-- Card 4: Palabra Palíndroma -->
            <div class="col-lg-3 col-md-6">
                <div class="challenge-card h-100">
                    <div class="card-body d-flex flex-column text-center">
                        <div class="card-icon mb-3">🔄</div>
                        <h4 class="card-title">Palabra Palíndroma</h4>
                        <p class="card-text flex-grow-1">Verifica si una palabra o frase ingresada por el usuario es palíndroma.</p>
                        <button class="btn wave-btn mt-auto" data-bs-toggle="modal" data-bs-target="#palindromeModal">🔍 Ver solución</button>
                    </div>
                    <div class="wave-bg">
                       <div class="wave"></div>
                       <div class="wave wave2"></div>
                       <div class="wave wave3"></div>
                    </div>
                </div>
            </div>

        </div>
    </main>
    
    <!-- Modals -->

    <!-- Modal Números Primos -->
    <div class="modal fade" id="primeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Solución: Números Primos</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Explicación Paso a Paso</h6>
                    <p>Para encontrar los números primos en un rango, iteramos a través de cada número. Para cada número, verificamos si es divisible por algún otro número además de 1 y él mismo. Si no encontramos ningún divisor, es primo.</p>
                    <h6>Tips de Optimización</h6>
                    <p>Un número solo necesita ser probado contra divisores hasta su raíz cuadrada. Además, el 2 es el único primo par, por lo que podemos saltarnos los demás números pares. El <code>break</code> se usa para detener la búsqueda de divisores tan pronto como se encuentra uno, optimizando el proceso.</p>
                    <h6>Código Funcional</h6>
                    <pre><code class="language-js">// Función para verificar si un número es primo
function esPrimo(num) {
    if (num <= 1) return false;
    if (num === 2) return true;
    if (num % 2 === 0) return false;
    for (let i = 3; i <= Math.sqrt(num); i += 2) {
        if (num % i === 0) return false;
    }
    return true;
}

// Función principal que se ejecuta con el botón
function encontrarPrimos(desde, hasta) {
    let primos = [];
    for (let i = desde; i <= hasta; i++) {
        if (esPrimo(i)) {
            primos.push(i);
        }
    }
    return primos;
}</code></pre>
                    <hr>
                    <h6>¡Prueba el código!</h6>
                    <div class="row g-2">
                        <div class="col">
                            <input type="number" class="form-control" id="primeStart" placeholder="Desde">
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" id="primeEnd" placeholder="Hasta">
                        </div>
                        <div class="col-auto">
                           <button class="btn btn-primary" id="runPrime">Ejecutar</button>
                        </div>
                    </div>
                    <div id="result" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Serie Fibonacci -->
    <div class="modal fade" id="fibonacciModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Solución: Serie Fibonacci</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Explicación Detallada</h6>
                    <p>La serie Fibonacci es una secuencia donde cada número es la suma de los dos anteriores. Se comienza con 0 y 1. Este código utiliza un bucle iterativo que es más eficiente en memoria que la recursividad para grandes números.</p>
                    <h6>Tips de Mejora</h6>
                    <p>El método iterativo es preferible para evitar el "Maximum call stack size exceeded" que puede ocurrir con la recursividad en JavaScript para un número elevado de términos.</p>
                    <h6>Código Funcional</h6>
                    <pre><code class="language-js">function generarFibonacci(terminos) {
    if (terminos <= 0) return [];
    if (terminos === 1) return [0];

    let secuencia = [0, 1];
    while (secuencia.length < terminos) {
        let siguiente = secuencia[secuencia.length - 1] + secuencia[secuencia.length - 2];
        secuencia.push(siguiente);
    }
    return secuencia;
}</code></pre>
                    <hr>
                    <h6>¡Prueba el código!</h6>
                    <div class="row g-2">
                        <div class="col">
                           <input type="number" class="form-control" id="fibonacciTerms" placeholder="Número de términos">
                        </div>
                         <div class="col-auto">
                           <button class="btn btn-primary" id="runFibonacci">Ejecutar</button>
                        </div>
                    </div>
                    <div id="fibonacciResult" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Cálculo de IMC -->
    <div class="modal fade" id="imcModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Solución: Cálculo de IMC</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Fórmula Explicada</h6>
                    <p>El Índice de Masa Corporal (IMC) se calcula con la fórmula: <code>peso (kg) / (altura (m))^2</code>. Como el peso se pide en libras, primero lo convertimos a kilogramos (1 libra ≈ 0.453592 kg).</p>
                    <h6>Tips de Mejora</h6>
                    <p>Usa <code>parseFloat</code> para asegurar que los valores de entrada sean tratados como números decimales. Añadir una clasificación ayuda al usuario a interpretar el resultado.</p>
                    <h6>Código Funcional</h6>
                    <pre><code class="language-js">function calcularIMC(pesoLibras, alturaMetros) {
    const pesoKg = pesoLibras * 0.453592;
    const imc = pesoKg / (alturaMetros * alturaMetros);
    
    let categoria = '';
    if (imc < 18.5) {
        categoria = 'Bajo peso';
    } else if (imc >= 18.5 && imc <= 24.9) {
        categoria = 'Peso normal';
    } else if (imc >= 25 && imc <= 29.9) {
        categoria = 'Sobrepeso';
    } else {
        categoria = 'Obesidad';
    }
    
    return `Tu IMC es ${imc.toFixed(2)} (${categoria}).`;
}</code></pre>
                    <hr>
                    <h6>¡Prueba el código!</h6>
                    <div class="row g-2">
                        <div class="col">
                            <input type="number" class="form-control" id="weightLbs" placeholder="Peso (libras)">
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" id="heightM" placeholder="Altura (metros)">
                        </div>
                        <div class="col-auto">
                           <button class="btn btn-primary" id="runImc">Ejecutar</button>
                        </div>
                    </div>
                    <div id="imcResult" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Palabra Palíndroma -->
    <div class="modal fade" id="palindromeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Solución: Palabra Palíndroma</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Explicación Lógica</h6>
                    <p>Una palabra es palíndroma si se lee igual de izquierda a derecha que de derecha a izquierda. Para verificarlo, primero "limpiamos" el texto: lo convertimos a minúsculas y eliminamos espacios y signos de puntuación. Luego, comparamos el texto limpio con su versión invertida.</p>
                    <h6>Tips de Mejora</h6>
                    <p>El uso de expresiones regulares (<code>/[^a-z0-9]/g</code>) es una forma muy eficiente de eliminar todos los caracteres que no sean letras o números, haciendo la comprobación más robusta.</p>
                    <h6>Código Funcional</h6>
                    <pre><code class="language-js">function esPalindromo(texto) {
    // Normalizar el string: minúsculas y sin espacios/puntuación
    const textoLimpio = texto.toLowerCase().replace(/[^a-z0-9]/g, '');
    
    // Invertir el string limpio
    const textoInvertido = textoLimpio.split('').reverse().join('');
    
    // Comparar
    return textoLimpio === textoInvertido;
}</code></pre>
                    <hr>
                    <h6>¡Prueba el código!</h6>
                    <div class="row g-2">
                        <div class="col">
                           <input type="text" class="form-control" id="palindromeWord" placeholder="Ingresa una palabra o frase">
                        </div>
                        <div class="col-auto">
                           <button class="btn btn-primary" id="runPalindrome">Verificar</button>
                        </div>
                    </div>
                    <div id="palindromeResult" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>


    <!-- Pie de Página -->
    <footer class="page-footer">
        <p>🤖 Materia: Inteligencia Artificial | Sección 710 | Proyecto generado con prompt personalizado por Berlyn Contreras</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JavaScript Funcional -->
    <script>
        // --- Lógica para Números Primos ---
        document.getElementById('runPrime').addEventListener('click', function() {
            const desde = parseInt(document.getElementById('primeStart').value);
            const hasta = parseInt(document.getElementById('primeEnd').value);
            const resultDiv = document.getElementById('result');

            if (isNaN(desde) || isNaN(hasta) || desde < 0 || hasta < desde) {
                resultDiv.textContent = 'Por favor, ingresa un rango válido.';
                return;
            }

            function esPrimo(num) {
                if (num <= 1) return false;
                if (num === 2) return true;
                if (num % 2 === 0) return false;
                for (let i = 3; i <= Math.sqrt(num); i += 2) {
                    if (num % i === 0) return false;
                }
                return true;
            }

            let primos = [];
            for (let i = desde; i <= hasta; i++) {
                if (esPrimo(i)) {
                    primos.push(i);
                }
            }

            if (primos.length > 0) {
                resultDiv.textContent = 'Números primos encontrados: ' + primos.join(', ');
            } else {
                resultDiv.textContent = 'No se encontraron números primos en ese rango.';
            }
        });
        
        // --- Lógica para Serie Fibonacci ---
        document.getElementById('runFibonacci').addEventListener('click', function() {
            const terminos = parseInt(document.getElementById('fibonacciTerms').value);
            const resultDiv = document.getElementById('fibonacciResult');

            if (isNaN(terminos) || terminos < 0) {
                resultDiv.textContent = 'Por favor, ingresa un número de términos válido (mayor o igual a 0).';
                return;
            }
            
            if (terminos > 1000) { // Limite para evitar sobrecargar el navegador
                resultDiv.textContent = 'Por seguridad, el límite es de 1000 términos.';
                return;
            }

            if (terminos === 0) {
                 resultDiv.textContent = 'Serie: []';
                 return;
            }
            if (terminos === 1) {
                resultDiv.textContent = 'Serie: [0]';
                return;
            }

            let secuencia = [0, 1];
            while (secuencia.length < terminos) {
                let siguiente = secuencia[secuencia.length - 1] + secuencia[secuencia.length - 2];
                secuencia.push(siguiente);
            }

            resultDiv.textContent = 'Serie: ' + secuencia.join(', ');
        });

        // --- Lógica para Cálculo de IMC ---
        document.getElementById('runImc').addEventListener('click', function() {
            const pesoLibras = parseFloat(document.getElementById('weightLbs').value);
            const alturaMetros = parseFloat(document.getElementById('heightM').value);
            const resultDiv = document.getElementById('imcResult');

            if (isNaN(pesoLibras) || isNaN(alturaMetros) || pesoLibras <= 0 || alturaMetros <= 0) {
                resultDiv.textContent = 'Por favor, ingresa valores válidos para peso y altura.';
                return;
            }
            
            const pesoKg = pesoLibras * 0.453592;
            const imc = pesoKg / (alturaMetros * alturaMetros);
            
            let categoria = '';
            if (imc < 18.5) {
                categoria = 'Bajo peso';
            } else if (imc >= 18.5 && imc <= 24.9) {
                categoria = 'Peso normal';
            } else if (imc >= 25 && imc <= 29.9) {
                categoria = 'Sobrepeso';
            } else {
                categoria = 'Obesidad';
            }
            
            resultDiv.textContent = `Tu IMC es ${imc.toFixed(2)} (${categoria}).`;
        });

        // --- Lógica para Palabra Palíndroma ---
        document.getElementById('runPalindrome').addEventListener('click', function() {
            const texto = document.getElementById('palindromeWord').value;
            const resultDiv = document.getElementById('palindromeResult');

            if (!texto || texto.trim() === '') {
                resultDiv.textContent = 'Por favor, ingresa una palabra o frase.';
                return;
            }

            const textoLimpio = texto.toLowerCase().replace(/[^a-z0-9]/g, '');
            
            if (textoLimpio.length === 0) {
                resultDiv.textContent = 'La entrada solo contiene caracteres no alfanuméricos. Intenta de nuevo.';
                return;
            }
            
            const textoInvertido = textoLimpio.split('').reverse().join('');
            
            if (textoLimpio === textoInvertido) {
                resultDiv.textContent = `¡Sí! "${texto}" es un palíndromo.`;
            } else {
                resultDiv.textContent = `No, "${texto}" no es un palíndromo.`;
            }
        });

    </script>
</body>
</html>```